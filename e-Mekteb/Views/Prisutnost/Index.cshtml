@model e_Mekteb.ViewModel.PrisutnostiUcenik

@{
    ViewData["Title"] = "Index";
}

<h1>Prisutnosti</h1>

<p>
    <a asp-action="Create" class="btn btn-primary">Dodaj Novu</a>
</p>

<div class="mb-5">
    <table class="table table-responsive-sm">
        @if (Model.Ucenici.Any())
        {
            @foreach (var ucenik in Model.Ucenici)

            {
                <thead class="table-primary">
                    <tr >
                        <th>
                            @ucenik.UserName
                        </th>

                        <th></th>
                        <th></th>

                    </tr>
                </thead>
                @foreach (var item in Model.Prisutnosti)
                {


                    @if (ucenik.AplicationUserId == item.AplicationUserId)
                    {

                        <tbody class="table table-bordered">



                            <tr class="table">
                                <td style="width:45%">
                                    @Html.DisplayFor(modelItem => item.Datum)
                                </td>

                                <td style="width:45%">
                                    @Html.DisplayFor(modelItem => item.IsPrisutan)
                                </td>

                                <td style="width:10%" align="right">
                                    @await Html.PartialAsync("TableButtonPartial", item.PrisutnostId)
                                </td>

                            </tr>


                        </tbody>
                    }


                }



            }

        }
    


        else
        {
        <tfoot>
            <tr>
                <td class="font-italic font-weight-bold">
                    Trenutno nemate unesene prisutnosti za nijednog učenika!
                </td>
            </tr>
        </tfoot>
        }

    </table>
</div>
